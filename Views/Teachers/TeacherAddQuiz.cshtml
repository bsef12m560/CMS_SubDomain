@{
    ViewBag.Title = "TeacherAddQuiz";
    Layout = "~/Views/Shared/_Teacher.cshtml";
}
@*============Middle Div about Add Quiz *@

@using AdeelAhmadSEM560.Models;

<div class="col-sm-7" style="margin:0px; padding:0px">

    <div class="panel panel-info" style="margin:25px 8px 0px 8px">
                
        <div class="panel-heading">
            <span><b>Add Quiz</b></span>
        </div>
                
        <div class="panel-body">

            <form action="/Teachers/TeacherAddQuizQuestions" class="form-horizontal" role="form">
                <div class="form-group">
                    <label class="control-label col-lg-3" for="quizNo">Quiz No: </label>
                    <div class="col-lg-3">
                        <input type="text" class="form-control" name="quizNo" id="quizNo" onchange="check()" placeholder="i.e: quiz-01" required />
                    </div>
                    <p style="margin-top:8px; float:left; color:#a94442"><b id="message"></b></p>
                </div>
                
                <div class="form-group">
                    <label class="control-label col-lg-3" for="quizNo">Total Questions: </label>
                    <div class="col-lg-3">
                        <input type="text" class="form-control" name="totalQuestions" placeholder="i.e: 4" required />
                    </div>
                    <label class="control-label col-lg-2" for="quizNo">Total Marks: </label>
                    <div class="col-lg-3">
                        <input type="text" class="form-control" name="totalMarks" placeholder="i.e: 20" required />
                    </div>
                </div>
                    
                <hr style="margin-left:5%; width:95%"/>

                <div class="col-lg-12">
                    <input type="submit" value="Add Quiz" id="addQuiz" disabled class="btn btn-danger col-lg-offset-4 col-sm-4" />
                </div>
            </form>
        </div>
    </div>
</div>

@Scripts.Render("~/bundles/jquery")
<script>

    function check() {
        var quizNo = $('#quizNo').val();

        $.getJSON("/Teachers/TeacherCheckQuizNo?quizNo=" + quizNo, function (data) {
            if (data) {
                $('#addQuiz').attr('disabled', true);
                $('#message').text("Already Exist!");
            }
            else {
                $('#addQuiz').removeAttr('disabled');
                $('#message').text("");
            }
        });
    }

</script>